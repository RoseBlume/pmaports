# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Bart Ribbers <bribbers@disroot.org>
pkgname=qtdbusextended
pkgver=0.0.3
pkgrel=0
pkgdesc="Provides additional features to the QDBusAbstractInterface class"
url="https://github.com/nemomobile/qtdbusextended"
arch="all"
license="LGPL-2.1-or-later"
makedepends="
	cmake
	qt5-qtbase-dev
	"
subpackages="$pkgname-dev"
source="https://github.com/nemomobile/qtdbusextended/archive/$pkgver/qtdbusextended-$pkgver.tar.gz
	cmake-support.patch
	"

build() {
	cmake -B build \
		-DCMAKE_BUILD_TYPE=None \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib
	cmake --build build
}

package() {
	DESTDIR="$pkgdir" cmake --build build --target install
}

sha512sums="76d962a7f8c31fc46875095a51dca39c3fcea1d4f3a26ac3f451a6a3bd15f480231786ad8756d5d19c10a3cae594926d426ee0c7697d28183f328733243af3d6  qtdbusextended-0.0.3.tar.gz
34afdf54a890a85227561fa46610d1a2051eef496d8328b62eb846472fe20ceb765a421579fabb8616bfe2f891f6f4f1526b3ade325a29933cf3c7977c18a267  cmake-support.patch"
